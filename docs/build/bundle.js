var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function s(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(s)}function c(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(t,...n){if(null==t)return e;const s=t.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function u(e){let t;return l(e,(e=>t=e))(),t}function a(e,t,n){e.$$.on_destroy.push(l(t,n))}function d(e,t,s,r){return e[1]&&r?n(s.ctx.slice(),e[1](r(t))):s.ctx}function f(e,t,n,s,r,o,c){const i=function(e,t,n,s){if(e[2]&&s){const r=e[2](s(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|r[s];return e}return t.dirty|r}return t.dirty}(t,s,r,o);if(i){const r=d(t,n,s,c);e.p(r,i)}}function p(t){return t&&c(t.destroy)?t.destroy:e}const m="undefined"!=typeof window;let h=m?()=>window.performance.now():()=>Date.now(),$=m?e=>requestAnimationFrame(e):e;const g=new Set;function x(e){g.forEach((t=>{t.c(e)||(g.delete(t),t.f())})),0!==g.size&&$(x)}function v(e){let t;return 0===g.size&&$(x),{promise:new Promise((n=>{g.add(t={c:e,f:n})})),abort(){g.delete(t)}}}function b(e,t){e.appendChild(t)}function y(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode.removeChild(e)}function w(e){return document.createElement(e)}function E(e){return document.createTextNode(e)}function _(){return E(" ")}function I(){return E("")}function C(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function N(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function S(e){return""===e?null:+e}function j(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function M(e,t){e.value=null==t?"":t}const A=new Set;let O,T=0;function L(e,t,n,s,r,o,c,i=0){const l=16.666/s;let u="{\n";for(let e=0;e<=1;e+=l){const s=t+(n-t)*o(e);u+=100*e+`%{${c(s,1-s)}}\n`}const a=u+`100% {${c(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(a)}_${i}`,f=e.ownerDocument;A.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(w("style")).sheet),m=f.__svelte_rules||(f.__svelte_rules={});m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${a}`,p.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${d} ${s}ms linear ${r}ms 1 both`,T+=1,d}function R(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-s.length;r&&(e.style.animation=s.join(", "),T-=r,T||$((()=>{T||(A.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),A.clear())})))}function P(e){O=e}function B(e){(function(){if(!O)throw new Error("Function called outside component initialization");return O})().$$.on_destroy.push(e)}const D=[],F=[],q=[],z=[],G=Promise.resolve();let J=!1;function K(e){q.push(e)}let V=!1;const Y=new Set;function H(){if(!V){V=!0;do{for(let e=0;e<D.length;e+=1){const t=D[e];P(t),Q(t.$$)}for(P(null),D.length=0;F.length;)F.pop()();for(let e=0;e<q.length;e+=1){const t=q[e];Y.has(t)||(Y.add(t),t())}q.length=0}while(D.length);for(;z.length;)z.pop()();J=!1,V=!1,Y.clear()}}function Q(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(K)}}let U;function W(){return U||(U=Promise.resolve(),U.then((()=>{U=null}))),U}function X(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const Z=new Set;let ee;function te(){ee={r:0,c:[],p:ee}}function ne(){ee.r||o(ee.c),ee=ee.p}function se(e,t){e&&e.i&&(Z.delete(e),e.i(t))}function re(e,t,n,s){if(e&&e.o){if(Z.has(e))return;Z.add(e),ee.c.push((()=>{Z.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}}const oe={duration:0};function ce(n,s,r){let o,i,l=s(n,r),u=!1,a=0;function d(){o&&R(n,o)}function f(){const{delay:s=0,duration:r=300,easing:c=t,tick:f=e,css:p}=l||oe;p&&(o=L(n,0,1,r,s,c,p,a++)),f(0,1);const m=h()+s,$=m+r;i&&i.abort(),u=!0,K((()=>X(n,!0,"start"))),i=v((e=>{if(u){if(e>=$)return f(1,0),X(n,!0,"end"),d(),u=!1;if(e>=m){const t=c((e-m)/r);f(t,1-t)}}return u}))}let p=!1;return{start(){p||(R(n),c(l)?(l=l(),W().then(f)):f())},invalidate(){p=!1},end(){u&&(d(),u=!1)}}}function ie(n,s,r,i){let l=s(n,r),u=i?0:1,a=null,d=null,f=null;function p(){f&&R(n,f)}function m(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function $(s){const{delay:r=0,duration:c=300,easing:i=t,tick:$=e,css:g}=l||oe,x={start:h()+r,b:s};s||(x.group=ee,ee.r+=1),a||d?d=x:(g&&(p(),f=L(n,u,s,c,r,i,g)),s&&$(0,1),a=m(x,c),K((()=>X(n,s,"start"))),v((e=>{if(d&&e>d.start&&(a=m(d,c),d=null,X(n,a.b,"start"),g&&(p(),f=L(n,u,a.b,a.duration,0,i,l.css))),a)if(e>=a.end)$(u=a.b,1-u),X(n,a.b,"end"),d||(a.b?p():--a.group.r||o(a.group.c)),a=null;else if(e>=a.start){const t=e-a.start;u=a.a+a.d*i(t/a.duration),$(u,1-u)}return!(!a&&!d)})))}return{run(e){c(l)?W().then((()=>{l=l(),$(e)})):$(e)},end(){p(),a=d=null}}}function le(e,t){re(e,1,1,(()=>{t.delete(e.key)}))}function ue(e,t,n,s,r,o,c,i,l,u,a,d){let f=e.length,p=o.length,m=f;const h={};for(;m--;)h[e[m].key]=m;const $=[],g=new Map,x=new Map;for(m=p;m--;){const e=d(r,o,m),i=n(e);let l=c.get(i);l?s&&l.p(e,t):(l=u(i,e),l.c()),g.set(i,$[m]=l),i in h&&x.set(i,Math.abs(m-h[i]))}const v=new Set,b=new Set;function y(e){se(e,1),e.m(i,a),c.set(e.key,e),a=e.first,p--}for(;f&&p;){const t=$[p-1],n=e[f-1],s=t.key,r=n.key;t===n?(a=t.first,f--,p--):g.has(r)?!c.has(s)||v.has(s)?y(t):b.has(r)?f--:x.get(s)>x.get(r)?(b.add(s),y(t)):(v.add(r),f--):(l(n,c),f--)}for(;f--;){const t=e[f];g.has(t.key)||l(t,c)}for(;p;)y($[p-1]);return $}function ae(e){e&&e.c()}function de(e,t,n,r){const{fragment:i,on_mount:l,on_destroy:u,after_update:a}=e.$$;i&&i.m(t,n),r||K((()=>{const t=l.map(s).filter(c);u?u.push(...t):o(t),e.$$.on_mount=[]})),a.forEach(K)}function fe(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function pe(e,t){-1===e.$$.dirty[0]&&(D.push(e),J||(J=!0,G.then(H)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function me(t,n,s,c,i,l,u=[-1]){const a=O;P(t);const d=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:i,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:n.context||[]),callbacks:r(),dirty:u,skip_bound:!1};let f=!1;if(d.ctx=s?s(t,n.props||{},((e,n,...s)=>{const r=s.length?s[0]:n;return d.ctx&&i(d.ctx[e],d.ctx[e]=r)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](r),f&&pe(t,e)),n})):[],d.update(),f=!0,o(d.before_update),d.fragment=!!c&&c(d.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach(k)}else d.fragment&&d.fragment.c();n.intro&&se(t.$$.fragment),de(t,n.target,n.anchor,n.customElement),H()}P(a)}class he{$destroy(){fe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const $e=[];function ge(t,n=e){let s;const r=[];function o(e){if(i(t,e)&&(t=e,s)){const e=!$e.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),$e.push(n,t)}if(e){for(let e=0;e<$e.length;e+=2)$e[e][0]($e[e+1]);$e.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(c,i=e){const l=[c,i];return r.push(l),1===r.length&&(s=n(o)||e),c(t),()=>{const e=r.indexOf(l);-1!==e&&r.splice(e,1),0===r.length&&(s(),s=null)}}}}function xe(t){let n,s,r,o;return{c(){n=w("button"),s=E(t[1]),N(n,"class","svelte-19o5qlr")},m(e,i){y(e,n,i),b(n,s),r||(o=C(n,"click",(function(){c(t[0])&&t[0].apply(this,arguments)})),r=!0)},p(e,[n]){t=e,2&n&&j(s,t[1])},i:e,o:e,d(e){e&&k(n),r=!1,o()}}}function ve(e,t,n){let{callback:s=function(){}}=t,{text:r="+"}=t;return e.$$set=e=>{"callback"in e&&n(0,s=e.callback),"text"in e&&n(1,r=e.text)},[s,r]}class be extends he{constructor(e){super(),me(this,e,ve,xe,i,{callback:0,text:1})}}function ye(e){let t,n,s,r,o;const i=e[3].default,l=function(e,t,n,s){if(e){const r=d(e,t,n,s);return e[0](r)}}(i,e,e[2],null);return{c(){t=w("button"),l&&l.c(),N(t,"class","svelte-1jyxh9d")},m(n,i){y(n,t,i),l&&l.m(t,null),s=!0,r||(o=C(t,"click",(function(){c(e[0])&&e[0].apply(this,arguments)})),r=!0)},p(t,[n]){e=t,l&&l.p&&4&n&&f(l,i,e,e[2],n,null,null)},i(r){s||(se(l,r),r&&K((()=>{n||(n=ie(t,e[1],{},!0)),n.run(1)})),s=!0)},o(r){re(l,r),r&&(n||(n=ie(t,e[1],{},!1)),n.run(0)),s=!1},d(e){e&&k(t),l&&l.d(e),e&&n&&n.end(),r=!1,o()}}}function ke(e,t,n){let{$$slots:s={},$$scope:r}=t,{callback:o=function(){}}=t,{trans:c=function(e,{duration:t=200,delay:n=0}){let s=+getComputedStyle(e).opacity,r=+getComputedStyle(e).height.slice(0,-2);return{duration:t,delay:n,css:e=>`\n\t\t\t\t\topacity: ${s*e};\n\t\t\t\t\theight: ${r*e}px;\n\t\t\t\t`}}}=t;return e.$$set=e=>{"callback"in e&&n(0,o=e.callback),"trans"in e&&n(1,c=e.trans),"$$scope"in e&&n(2,r=e.$$scope)},[o,c,r,s]}class we extends he{constructor(e){super(),me(this,e,ke,ye,i,{callback:0,trans:1})}}function Ee(e,t=750){let n,s=!1,r=!0;function o(){s=!0,r=!0,n=setTimeout((function(){s=!1,r=!1,e.dispatchEvent(new CustomEvent("hold"))}),t)}function c(){clearTimeout(n),r=!0,s=!1}return e.addEventListener("mousedown",o),e.addEventListener("mouseup",(function(){clearTimeout(n),r&&s&&e.dispatchEvent(new CustomEvent("press")),r=!0,s=!1})),e.addEventListener("mouseleave",c),e.addEventListener("touchstart",o),e.addEventListener("touchmove",c),e.addEventListener("touchcancel",c),{destroy(){e.onmousedown=null,e.onmouseup=null,e.onmouseleave=null,e.ontouchstart=null,e.ontouchmove=null,e.ontouchcancel=null}}}function _e(t){let n,s,r,c,i,l,u,a,d,f,p,m,h,$,g,x,v,E;return{c(){n=w("h1"),s=_(),r=w("info"),c=w("div"),i=w("input"),l=w("span"),l.textContent="kcal.",u=_(),a=w("div"),d=w("input"),f=w("span"),f.textContent="seconds",p=_(),m=w("div"),h=w("input"),$=w("span"),$.textContent="reps",g=_(),x=w("button"),x.textContent="OK",N(n,"contenteditable","true"),N(n,"class","svelte-kgr7km"),void 0===t[1].name&&K((()=>t[4].call(n))),N(i,"type","number"),N(i,"class","svelte-kgr7km"),N(c,"class","svelte-kgr7km"),N(d,"type","number"),N(d,"class","svelte-kgr7km"),N(a,"class","svelte-kgr7km"),N(h,"type","number"),N(h,"class","svelte-kgr7km"),N(m,"class","svelte-kgr7km"),N(r,"class","svelte-kgr7km"),N(x,"class","svelte-kgr7km")},m(e,o){y(e,n,o),void 0!==t[1].name&&(n.textContent=t[1].name),y(e,s,o),y(e,r,o),b(r,c),b(c,i),M(i,t[1].calories),b(c,l),b(r,u),b(r,a),b(a,d),M(d,t[0].time),b(a,f),b(r,p),b(r,m),b(m,h),M(h,t[0].reps),b(m,$),y(e,g,o),y(e,x,o),v||(E=[C(n,"input",t[4]),C(i,"input",t[5]),C(d,"input",t[6]),C(h,"input",t[7]),C(x,"click",t[8])],v=!0)},p(e,[t]){2&t&&e[1].name!==n.textContent&&(n.textContent=e[1].name),2&t&&S(i.value)!==e[1].calories&&M(i,e[1].calories),1&t&&S(d.value)!==e[0].time&&M(d,e[0].time),1&t&&S(h.value)!==e[0].reps&&M(h,e[0].reps)},i:e,o:e,d(e){e&&k(n),e&&k(s),e&&k(r),e&&k(g),e&&k(x),v=!1,o(E)}}}function Ie(e,t,n){let s,r;a(e,ft,(e=>n(9,s=e))),a(e,pt,(e=>n(10,r=e)));let{routineIndex:o=0}=t,{routineExerciseIndex:c=0}=t,i=s[o].exercises[c],l=r.find((function(e){return e.id===i.exerciseId}));return e.$$set=e=>{"routineIndex"in e&&n(2,o=e.routineIndex),"routineExerciseIndex"in e&&n(3,c=e.routineExerciseIndex)},e.$$.update=()=>{2&e.$$.dirty&&(l.name,l.calories,pt.save()),1&e.$$.dirty&&(i.time,i.reps,ft.save())},[i,l,o,c,function(){l.name=this.textContent,n(1,l)},function(){l.calories=S(this.value),n(1,l)},function(){i.time=S(this.value),n(0,i)},function(){i.reps=S(this.value),n(0,i)},function(){ht.update((function(e){return e.shift(),"Add Exercise"===e[0].title&&e.shift(),e}))}]}class Ce extends he{constructor(e){super(),me(this,e,Ie,_e,i,{routineIndex:2,routineExerciseIndex:3})}}function Ne(e,{delay:n=0,duration:s=400,easing:r=t}={}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:s,easing:r,css:e=>"opacity: "+e*o}}function Se(e,t,n){const s=e.slice();return s[6]=t[n],s[8]=n,s}function je(t){let n,s;return{c(){n=w("h1"),n.textContent="No exercises.",N(n,"id","notfound"),N(n,"class","svelte-10vtxhh")},m(e,t){y(e,n,t)},p:e,i(e){s||K((()=>{s=ce(n,Ne,{}),s.start()}))},o:e,d(e){e&&k(n)}}}function Me(e){let t,n,s=e[1],r=[];for(let t=0;t<s.length;t+=1)r[t]=Oe(Se(e,s,t));const o=e=>re(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=I()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);y(e,t,s),n=!0},p(e,n){if(7&n){let c;for(s=e[1],c=0;c<s.length;c+=1){const o=Se(e,s,c);r[c]?(r[c].p(o,n),se(r[c],1)):(r[c]=Oe(o),r[c].c(),se(r[c],1),r[c].m(t.parentNode,t))}for(te(),c=s.length;c<r.length;c+=1)o(c);ne()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)se(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)re(r[e]);n=!1},d(e){!function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(r,e),e&&k(t)}}}function Ae(e){let t,n,s,r,o,c,i=e[6].name+"",l=e[6].calories+"";return{c(){t=w("b"),n=E(i),s=_(),r=w("p"),o=E(l),c=E(" kcal.")},m(e,i){y(e,t,i),b(t,n),y(e,s,i),y(e,r,i),b(r,o),b(r,c)},p(e,t){2&t&&i!==(i=e[6].name+"")&&j(n,i),2&t&&l!==(l=e[6].calories+"")&&j(o,l)},d(e){e&&k(t),e&&k(s),e&&k(r)}}}function Oe(e){let t,n,s,r,c,i;function l(){return e[3](e[6])}function u(){return e[4](e[6],e[8])}return n=new we({props:{$$slots:{default:[Ae]},$$scope:{ctx:e}}}),{c(){t=w("div"),ae(n.$$.fragment),s=_(),N(t,"id","exercise"),N(t,"class","svelte-10vtxhh")},m(e,o){y(e,t,o),de(n,t,null),b(t,s),r=!0,c||(i=[p(Ee.call(null,t)),C(t,"press",l),C(t,"hold",u)],c=!0)},p(t,s){e=t;const r={};514&s&&(r.$$scope={dirty:s,ctx:e}),n.$set(r)},i(e){r||(se(n.$$.fragment,e),r=!0)},o(e){re(n.$$.fragment,e),r=!1},d(e){e&&k(t),fe(n),c=!1,o(i)}}}function Te(e){let t,n,s,r,o,c,i;const l=[Me,je],u=[];function a(e,t){return e[1].length?0:1}return n=a(e),s=u[n]=l[n](e),c=new be({props:{callback:e[5]}}),{c(){t=w("list"),s.c(),r=_(),o=w("div"),ae(c.$$.fragment),N(t,"class","svelte-10vtxhh"),N(o,"id","button"),N(o,"class","svelte-10vtxhh")},m(e,s){y(e,t,s),u[n].m(t,null),y(e,r,s),y(e,o,s),de(c,o,null),i=!0},p(e,[r]){let o=n;n=a(e),n===o?u[n].p(e,r):(te(),re(u[o],1,1,(()=>{u[o]=null})),ne(),s=u[n],s?s.p(e,r):(s=u[n]=l[n](e),s.c()),se(s,1),s.m(t,null));const i={};7&r&&(i.callback=e[5]),c.$set(i)},i(e){i||(se(s),se(c.$$.fragment,e),i=!0)},o(e){re(s),re(c.$$.fragment,e),i=!1},d(e){e&&k(t),u[n].d(),e&&k(r),e&&k(o),fe(c)}}}function Le(e,t,n){let s,r;a(e,pt,(e=>n(1,s=e))),a(e,ft,(e=>n(2,r=e)));let{routineIndex:o=0}=t;return e.$$set=e=>{"routineIndex"in e&&n(0,o=e.routineIndex)},[o,s,r,function(e){r[o].exercises.push({id:kt(),exerciseId:e.id,reps:0,time:30}),ft.save(),$t(Ce,{routineIndex:o,routineExerciseIndex:r[o].exercises.length-1},"")},async function(e,t){await bt(`Delete "${e.name}"?`)&&(pt.update((function(e){return[...e.slice(0,t),...e.slice(t+1)]})),pt.save())},function(){s.push({id:kt(),name:"New Exercise",calories:.1}),r[o].exercises.push({id:kt(),exerciseId:s[s.length-1].id,reps:0,time:30}),ft.save(),pt.save(),$t(Ce,{routineIndex:o,routineExerciseIndex:r[o].exercises.length-1},"")}]}class Re extends he{constructor(e){super(),me(this,e,Le,Te,i,{routineIndex:0})}}let Pe=new AudioContext;function Be(e="triangle",t=2){let n=Pe.createOscillator(),s=Pe.createGain();n.connect(s),s.connect(Pe.destination),n.type=e,n.start(0),s.gain.exponentialRampToValueAtTime(1e-4,Pe.currentTime+t)}function De(e){let t,n,s,r,o,c,i,l,u,a,d,f=(e[4]?"Break":e[5].name)+"",p=((e[4]?e[2][e[0]].break:e[5].time)-e[3]).toFixed(1)+"",m=e[5].reps&&qe(e);return{c(){t=w("div"),s=_(),r=w("roundthing"),o=w("h1"),c=E(f),i=_(),m&&m.c(),l=_(),u=w("h2"),a=E(p),d=E(" sec."),N(t,"id","circle"),N(t,"style",n=`--rotate: ${e[4]?360-e[3]/e[2][e[0]].break*360:e[3]/e[5].time*360}deg`),N(t,"class","svelte-196c4sj"),N(o,"class","svelte-196c4sj"),N(u,"class","svelte-196c4sj"),N(r,"class","svelte-196c4sj")},m(e,n){y(e,t,n),y(e,s,n),y(e,r,n),b(r,o),b(o,c),b(r,i),m&&m.m(r,null),b(r,l),b(r,u),b(u,a),b(u,d)},p(e,s){61&s&&n!==(n=`--rotate: ${e[4]?360-e[3]/e[2][e[0]].break*360:e[3]/e[5].time*360}deg`)&&N(t,"style",n),48&s&&f!==(f=(e[4]?"Break":e[5].name)+"")&&j(c,f),e[5].reps?m?m.p(e,s):(m=qe(e),m.c(),m.m(r,l)):m&&(m.d(1),m=null),61&s&&p!==(p=((e[4]?e[2][e[0]].break:e[5].time)-e[3]).toFixed(1)+"")&&j(a,p)},d(e){e&&k(t),e&&k(s),e&&k(r),m&&m.d()}}}function Fe(t){let n,s,r;return{c(){n=w("button"),n.textContent="Start",N(n,"class","svelte-196c4sj")},m(e,o){y(e,n,o),s||(r=C(n,"click",t[6]),s=!0)},p:e,d(e){e&&k(n),s=!1,r()}}}function qe(e){let t,n,s,r=e[5].reps+"";return{c(){t=w("h2"),n=E(r),s=E(" reps"),N(t,"class","svelte-196c4sj")},m(e,r){y(e,t,r),b(t,n),b(t,s)},p(e,t){32&t&&r!==(r=e[5].reps+"")&&j(n,r)},d(e){e&&k(t)}}}function ze(t){let n;function s(e,t){return-1==e[1]?Fe:De}let r=s(t),o=r(t);return{c(){n=w("container"),o.c(),N(n,"class","svelte-196c4sj")},m(e,t){y(e,n,t),o.m(n,null)},p(e,[t]){r===(r=s(e))&&o?o.p(e,t):(o.d(1),o=r(e),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(e){e&&k(n),o.d()}}}const Ge=100;function Je(e,t,n){let s,r;a(e,mt,(e=>n(2,r=e)));let{i:o=0}=t,c=-1,i=0,l=!1,u=setInterval((function(){-1!=c&&(n(3,i+=.1),l?i>=r[o].break&&(n(3,i=.1),n(4,l=!1),Be("triangle",4)):i>=s.time&&(Be("sine",4),n(3,i=.1),n(4,l=!0),c<r[o].computedExercises.length-1?n(1,c++,c):n(1,c=-1)))}),Ge);B((function(){clearInterval(u)}));return e.$$set=e=>{"i"in e&&n(0,o=e.i)},e.$$.update=()=>{7&e.$$.dirty&&n(5,s=r[o].computedExercises[c])},[o,c,r,i,l,s,function(){n(1,c=0)}]}class Ke extends he{constructor(e){super(),me(this,e,Je,ze,i,{i:0})}}function Ve(e,t,n){const s=e.slice();return s[10]=t[n].name,s[11]=t[n].reps,s[12]=t[n].time,s[13]=t[n].calories,s[14]=t[n].id,s[16]=n,s}function Ye(e){let t,n,s,r=e[1][e[0]].exercises.length+"";return{c(){t=w("p"),n=E(r),s=E(" exercises"),N(t,"class","svelte-19o1eed")},m(e,r){y(e,t,r),b(t,n),b(t,s)},p(e,t){3&t&&r!==(r=e[1][e[0]].exercises.length+"")&&j(n,r)},d(e){e&&k(t)}}}function He(e){let t,n,s,r,o,c,i,l,u,a=Math.round(gt(e[0])/60)+"",d=xt(e[0])+"",f=e[1][e[0]].exercises&&Ye(e);return{c(){t=w("p"),n=E(a),s=E(" minute(s)"),r=_(),o=w("p"),c=E(d),i=E(" kcal."),l=_(),f&&f.c(),u=I(),N(t,"class","svelte-19o1eed"),N(o,"class","svelte-19o1eed")},m(e,a){y(e,t,a),b(t,n),b(t,s),y(e,r,a),y(e,o,a),b(o,c),b(o,i),y(e,l,a),f&&f.m(e,a),y(e,u,a)},p(e,t){1&t&&a!==(a=Math.round(gt(e[0])/60)+"")&&j(n,a),1&t&&d!==(d=xt(e[0])+"")&&j(c,d),e[1][e[0]].exercises?f?f.p(e,t):(f=Ye(e),f.c(),f.m(u.parentNode,u)):f&&(f.d(1),f=null)},d(e){e&&k(t),e&&k(r),e&&k(o),e&&k(l),f&&f.d(e),e&&k(u)}}}function Qe(t){let n,s;return{c(){n=w("p"),n.textContent="No exercises.",N(n,"id","notfound"),N(n,"class","svelte-19o1eed")},m(e,t){y(e,n,t)},p:e,i(e){s||K((()=>{s=ce(n,Ne,{}),s.start()}))},o:e,d(e){e&&k(n)}}}function Ue(e){let t,n,s=[],r=new Map,o=e[3][e[0]].computedExercises;const c=e=>e[14];for(let t=0;t<o.length;t+=1){let n=Ve(e,o,t),i=c(n);r.set(i,s[t]=et(i,n))}return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=I()},m(e,r){for(let t=0;t<s.length;t+=1)s[t].m(e,r);y(e,t,r),n=!0},p(e,n){11&n&&(o=e[3][e[0]].computedExercises,te(),s=ue(s,n,c,1,e,o,r,t.parentNode,le,et,t,Ve),ne())},i(e){if(!n){for(let e=0;e<o.length;e+=1)se(s[e]);n=!0}},o(e){for(let e=0;e<s.length;e+=1)re(s[e]);n=!1},d(e){for(let t=0;t<s.length;t+=1)s[t].d(e);e&&k(t)}}}function We(e){let t,n,s,r,o,c,i,l=e[12]+"",u=e[12]*e[13]+"";return{c(){t=w("p"),n=E(l),s=E(" seconds"),r=_(),o=w("p"),c=E(u),i=E(" kcal.")},m(e,l){y(e,t,l),b(t,n),b(t,s),y(e,r,l),y(e,o,l),b(o,c),b(o,i)},p(e,t){9&t&&l!==(l=e[12]+"")&&j(n,l),9&t&&u!==(u=e[12]*e[13]+"")&&j(c,u)},d(e){e&&k(t),e&&k(r),e&&k(o)}}}function Xe(e){let t,n,s,r,o,c,i,l=e[11]+"",u=e[11]*e[13]+"";return{c(){t=w("p"),n=E(l),s=E(" reps"),r=_(),o=w("p"),c=E(u),i=E(" kcal.")},m(e,l){y(e,t,l),b(t,n),b(t,s),y(e,r,l),y(e,o,l),b(o,c),b(o,i)},p(e,t){9&t&&l!==(l=e[11]+"")&&j(n,l),9&t&&u!==(u=e[11]*e[13]+"")&&j(c,u)},d(e){e&&k(t),e&&k(r),e&&k(o)}}}function Ze(e){let t,n,s,r,o=e[10]+"";function c(e,t){return e[11]?Xe:We}let i=c(e),l=i(e);return{c(){t=w("b"),n=E(o),s=_(),l.c(),r=I()},m(e,o){y(e,t,o),b(t,n),y(e,s,o),l.m(e,o),y(e,r,o)},p(e,t){9&t&&o!==(o=e[10]+"")&&j(n,o),i===(i=c(e))&&l?l.p(e,t):(l.d(1),l=i(e),l&&(l.c(),l.m(r.parentNode,r)))},d(e){e&&k(t),e&&k(s),l.d(e),e&&k(r)}}}function et(e,t){let n,s,r,c,i,l;function u(){return t[6](t[16])}function a(){return t[7](t[10],t[16])}return s=new we({props:{$$slots:{default:[Ze]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=w("div"),ae(s.$$.fragment),r=_(),N(n,"class","svelte-19o1eed"),this.first=n},m(e,t){y(e,n,t),de(s,n,null),b(n,r),c=!0,i||(l=[p(Ee.call(null,n)),C(n,"hold",u),C(n,"press",a)],i=!0)},p(e,n){t=e;const r={};131081&n&&(r.$$scope={dirty:n,ctx:t}),s.$set(r)},i(e){c||(se(s.$$.fragment,e),c=!0)},o(e){re(s.$$.fragment,e),c=!1},d(e){e&&k(n),fe(s),i=!1,o(l)}}}function tt(e){let t,n,s,r,c,l,u,a,d,f,p,m,h,$,g,x,v,E,I,j,A=(e[1][e[0]],e[2]),O=He(e);const T=[Ue,Qe],L=[];function R(e,t){return e[1][e[0]].exercises&&e[1][e[0]].exercises.length?0:1}return p=R(e),m=L[p]=T[p](e),v=new be({props:{callback:e[9]}}),{c(){t=w("h1"),n=_(),s=w("info"),O.c(),r=_(),c=w("div"),l=w("input"),u=_(),a=w("span"),a.textContent="second breaks",d=_(),f=w("list"),m.c(),h=_(),$=w("button"),$.textContent="Go!",g=_(),x=w("div"),ae(v.$$.fragment),N(t,"contenteditable","true"),N(t,"class","svelte-19o1eed"),void 0===e[1][e[0]].name&&K((()=>e[4].call(t))),N(l,"type","number"),N(l,"class","svelte-19o1eed"),N(c,"class","svelte-19o1eed"),N(s,"class","svelte-19o1eed"),N(f,"class","svelte-19o1eed"),N($,"id","go"),N($,"class","svelte-19o1eed"),N(x,"id","button"),N(x,"class","svelte-19o1eed")},m(o,i){y(o,t,i),void 0!==e[1][e[0]].name&&(t.textContent=e[1][e[0]].name),y(o,n,i),y(o,s,i),O.m(s,null),b(s,r),b(s,c),b(c,l),M(l,e[1][e[0]].break),b(c,u),b(c,a),y(o,d,i),y(o,f,i),L[p].m(f,null),y(o,h,i),y(o,$,i),y(o,g,i),y(o,x,i),de(v,x,null),E=!0,I||(j=[C(t,"input",e[4]),C(l,"input",e[5]),C($,"click",e[8])],I=!0)},p(e,[n]){3&n&&e[1][e[0]].name!==t.textContent&&(t.textContent=e[1][e[0]].name),7&n&&i(A,(e[1][e[0]],A=e[2]))?(O.d(1),O=He(e),O.c(),O.m(s,r)):O.p(e,n),3&n&&S(l.value)!==e[1][e[0]].break&&M(l,e[1][e[0]].break);let o=p;p=R(e),p===o?L[p].p(e,n):(te(),re(L[o],1,1,(()=>{L[o]=null})),ne(),m=L[p],m?m.p(e,n):(m=L[p]=T[p](e),m.c()),se(m,1),m.m(f,null));const c={};1&n&&(c.callback=e[9]),v.$set(c)},i(e){E||(se(m),se(v.$$.fragment,e),E=!0)},o(e){re(m),re(v.$$.fragment,e),E=!1},d(e){e&&k(t),e&&k(n),e&&k(s),O.d(e),e&&k(d),e&&k(f),L[p].d(),e&&k(h),e&&k($),e&&k(g),e&&k(x),fe(v),I=!1,o(j)}}}function nt(e,t,n){let s,r,o;a(e,ft,(e=>n(1,s=e))),a(e,pt,(e=>n(2,r=e))),a(e,mt,(e=>n(3,o=e)));let{i:c=0}=t;return e.$$set=e=>{"i"in e&&n(0,c=e.i)},e.$$.update=()=>{3&e.$$.dirty&&(s[c].name,s[c].break,ft.save())},[c,s,r,o,function(){s[c].name=this.textContent,ft.set(s),n(0,c)},function(){s[c].break=S(this.value),ft.set(s),n(0,c)},function(e){!function(e,t,n=t){e.set(n)}(ft,s[c].exercises=[...s[c].exercises.slice(0,e),...s[c].exercises.slice(e+1)],s),ft.update((function(e){return e})),ft.save()},function(e,t){void 0!==e&&$t(Ce,{routineIndex:c,routineExerciseIndex:t})},function(){o[c].computedExercises.length&&$t(Ke,{i:c},"")},function(){$t(Re,{routineIndex:c},"Add Exercise")}]}class st extends he{constructor(e){super(),me(this,e,nt,tt,i,{i:0})}}function rt(e,t,n){const s=e.slice();return s[4]=t[n],s[6]=n,s}function ot(e){let t,n,s,r,o,c,i,l,u,a,d=e[4].name+"",f=Math.round(gt(e[6])/60)+"",p=xt(e[6])+"";return{c(){t=w("b"),n=E(d),s=_(),r=w("p"),o=E(f),c=E(" min."),i=_(),l=w("p"),u=E(p),a=E(" kcal.")},m(e,d){y(e,t,d),b(t,n),y(e,s,d),y(e,r,d),b(r,o),b(r,c),y(e,i,d),y(e,l,d),b(l,u),b(l,a)},p(e,t){1&t&&d!==(d=e[4].name+"")&&j(n,d),1&t&&f!==(f=Math.round(gt(e[6])/60)+"")&&j(o,f),1&t&&p!==(p=xt(e[6])+"")&&j(u,p)},d(e){e&&k(t),e&&k(s),e&&k(r),e&&k(i),e&&k(l)}}}function ct(e,t){let n,s,r,c,i;function l(){return t[1](t[6])}function u(){return t[2](t[4],t[6])}return s=new we({props:{$$slots:{default:[ot]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=w("div"),ae(s.$$.fragment),N(n,"class","svelte-1n6ushe"),this.first=n},m(e,t){y(e,n,t),de(s,n,null),r=!0,c||(i=[p(Ee.call(null,n)),C(n,"press",l),C(n,"hold",u)],c=!0)},p(e,n){t=e;const r={};129&n&&(r.$$scope={dirty:n,ctx:t}),s.$set(r)},i(e){r||(se(s.$$.fragment,e),r=!0)},o(e){re(s.$$.fragment,e),r=!1},d(e){e&&k(n),fe(s),c=!1,o(i)}}}function it(e){let t;return{c(){t=w("p"),t.textContent="No routines",N(t,"id","notfound"),N(t,"class","svelte-1n6ushe")},m(e,n){y(e,t,n)},d(e){e&&k(t)}}}function lt(e){let t,n,s,r,o,c,i=[],l=new Map,u=e[0];const a=e=>e[4].id;for(let t=0;t<u.length;t+=1){let n=rt(e,u,t),s=a(n);l.set(s,i[t]=ct(s,n))}let d=0==e[0].length&&it();return o=new be({props:{callback:e[3]}}),{c(){t=w("div");for(let e=0;e<i.length;e+=1)i[e].c();n=_(),d&&d.c(),s=_(),r=w("div"),ae(o.$$.fragment),N(t,"id","list"),N(t,"class","svelte-1n6ushe"),N(r,"id","button"),N(r,"class","svelte-1n6ushe")},m(e,l){y(e,t,l);for(let e=0;e<i.length;e+=1)i[e].m(t,null);b(t,n),d&&d.m(t,null),y(e,s,l),y(e,r,l),de(o,r,null),c=!0},p(e,[s]){1&s&&(u=e[0],te(),i=ue(i,s,a,1,e,u,l,t,le,ct,n,rt),ne()),0==e[0].length?d||(d=it(),d.c(),d.m(t,null)):d&&(d.d(1),d=null);const r={};1&s&&(r.callback=e[3]),o.$set(r)},i(e){if(!c){for(let e=0;e<u.length;e+=1)se(i[e]);se(o.$$.fragment,e),c=!0}},o(e){for(let e=0;e<i.length;e+=1)re(i[e]);re(o.$$.fragment,e),c=!1},d(e){e&&k(t);for(let e=0;e<i.length;e+=1)i[e].d();d&&d.d(),e&&k(s),e&&k(r),fe(o)}}}function ut(e,t,n){let s;a(e,ft,(e=>n(0,s=e)));return[s,function(e){$t(st,{i:e},"")},async function(e,t){await bt(`Delete "${e.name}"?`)&&ft.update((function(e){return[...e.slice(0,t),...e.slice(t+1)]}))},function(){s.push({id:kt(),name:"New Routine",break:10,exercises:[]}),ft.save(),$t(st,{i:s.length-1},"")}]}class at extends he{constructor(e){super(),me(this,e,ut,lt,i,{})}}function dt(e,t){let n=JSON.parse(localStorage.getItem(e)),s=ge(null===n?t:n);return s.save=function(){localStorage.setItem(e,JSON.stringify(u(s)))},window.addEventListener("beforeunload",s.write),s}const ft=dt("routines",[{id:0,name:"Example Routine",break:10,exercises:[{id:1,exerciseId:5,reps:10,time:60},{id:2,exerciseId:5,reps:20,time:120},{id:3,exerciseId:5,reps:25,time:120},{id:4,exerciseId:5,reps:30,time:120}]}]),pt=dt("exerciseTable",[{id:5,name:"Example Exercise",calories:2}]),mt=function(t,n,s){const r=!Array.isArray(t),i=r?[t]:t,u=n.length<2;return{subscribe:ge(s,(t=>{let s=!1;const a=[];let d=0,f=e;const p=()=>{if(d)return;f();const s=n(r?a[0]:a,t);u?t(s):f=c(s)?s:e},m=i.map(((e,t)=>l(e,(e=>{a[t]=e,d&=~(1<<t),s&&p()}),(()=>{d|=1<<t}))));return s=!0,p(),function(){o(m),f()}})).subscribe}}([ft,pt],(function([e,t],n){let s=[];for(let n of e){let e=n.exercises.map((function(e){return{...t.find((function(t){return e.exerciseId===t.id})),...e}}));s.push({...n,computedExercises:e})}n(s)})),ht=ge([{page:at,props:{},title:"Routines"}]),$t=function(e=at,t={},n="Routines"){ht.update((function(s){return[{page:e,props:t,title:n},...s]}))},gt=function(e){let t;try{t=u(ft)[e]}catch{return 0}if(0==t.exercises.length)return 0;let n=0;for(let{time:e}of t.exercises)n+=e||0;return n+=t.break*(t.exercises.length-1),n},xt=function(e){try{let t=u(ft)[e],n=u(pt),s=0;for(let{exerciseId:e,reps:r,time:o}of t.exercises){let t=n.find((function(t){return t.id===e}));void 0!==t&&(s+=t.calories*(r||o))}return s}catch{return 0}};let vt=ge({text:"",callback:function(){}});const bt=async function(e){return u(vt).text?new Promise((function(e){e(!1)})):new Promise((function(t){vt.set({text:e,callback:function(e){vt.set({text:"",callback:function(){}}),t(e)}})}))};let yt=Number(localStorage.getItem("id"))||99;const kt=function(){return localStorage.setItem("id",`${yt+1}`),yt++};function wt(t){let n,s,r,o,c,i,l,u,a,d,f,p,m=t[0][0].title+"";return{c(){n=w("div"),s=w("button"),r=E("<"),c=_(),i=w("p"),l=E(m),a=_(),d=w("div"),N(s,"style",o=1==t[0].length?"display: none;":""),N(s,"class","svelte-5w25g5"),N(i,"class","svelte-5w25g5"),N(n,"id","bar"),N(n,"style",u=t[0][0].title?"":"border: none;"),N(n,"class","svelte-5w25g5"),N(d,"id","space"),N(d,"class","svelte-5w25g5")},m(e,o){y(e,n,o),b(n,s),b(s,r),b(n,c),b(n,i),b(i,l),y(e,a,o),y(e,d,o),f||(p=C(s,"click",t[1]),f=!0)},p(e,[t]){1&t&&o!==(o=1==e[0].length?"display: none;":"")&&N(s,"style",o),1&t&&m!==(m=e[0][0].title+"")&&j(l,m),1&t&&u!==(u=e[0][0].title?"":"border: none;")&&N(n,"style",u)},i:e,o:e,d(e){e&&k(n),e&&k(a),e&&k(d),f=!1,p()}}}function Et(e,t,n){let s;a(e,ht,(e=>n(0,s=e)));return[s,function(){!function(e=1){if(u(ht).length<=1)return!0;ht.update((function(t){return t.slice(Math.min(e,t.length-1))}))}(1)}]}window.log=function(){console.log(u(ft),u(pt),u(ht),u(vt))},window.wipe=function(){ft.set(null),pt.set(null),localStorage.removeItem("routines"),localStorage.removeItem("exerciseTable"),window.location.reload()},window.ask=bt;class _t extends he{constructor(e){super(),me(this,e,Et,wt,i,{})}}function It(e){let t,n,s,r,c,i,l,u,a,d,f,p,m,h=e[0].text+"";return{c(){t=w("darken"),n=w("box"),s=w("h1"),r=E(h),c=_(),i=w("buttoncontainer"),l=w("button"),l.textContent="Yes",u=_(),a=w("button"),a.textContent="No",N(s,"class","svelte-7nu099"),N(l,"id","yes"),N(l,"class","svelte-7nu099"),N(a,"id","no"),N(a,"class","svelte-7nu099"),N(i,"class","svelte-7nu099"),N(n,"class","svelte-7nu099"),N(t,"class","svelte-7nu099")},m(o,d){y(o,t,d),b(t,n),b(n,s),b(s,r),b(n,c),b(n,i),b(i,l),b(i,u),b(i,a),f=!0,p||(m=[C(l,"click",e[1]),C(a,"click",e[2])],p=!0)},p(e,t){(!f||1&t)&&h!==(h=e[0].text+"")&&j(r,h)},i(e){f||(K((()=>{d||(d=ie(t,Ne,{duration:100},!0)),d.run(1)})),f=!0)},o(e){d||(d=ie(t,Ne,{duration:100},!1)),d.run(0),f=!1},d(e){e&&k(t),e&&d&&d.end(),p=!1,o(m)}}}function Ct(e){let t,n,s=e[0].text&&It(e);return{c(){s&&s.c(),t=I()},m(e,r){s&&s.m(e,r),y(e,t,r),n=!0},p(e,[n]){e[0].text?s?(s.p(e,n),1&n&&se(s,1)):(s=It(e),s.c(),se(s,1),s.m(t.parentNode,t)):s&&(te(),re(s,1,1,(()=>{s=null})),ne())},i(e){n||(se(s),n=!0)},o(e){re(s),n=!1},d(e){s&&s.d(e),e&&k(t)}}}function Nt(e,t,n){let s;a(e,vt,(e=>n(0,s=e)));return[s,function(){s.callback(!0)},function(){s.callback(!1)}]}class St extends he{constructor(e){super(),me(this,e,Nt,Ct,i,{})}}function jt(e){let t,s,r,o;const c=[e[0][0].props];var i=e[0][0].page;function l(e){let t={};for(let e=0;e<c.length;e+=1)t=n(t,c[e]);return{props:t}}return i&&(s=new i(l())),{c(){t=w("div"),s&&ae(s.$$.fragment),N(t,"class","svelte-19uewan")},m(e,n){y(e,t,n),s&&de(s,t,null),o=!0},p(e,n){const r=1&n?function(e,t){const n={},s={},r={$$scope:1};let o=e.length;for(;o--;){const c=e[o],i=t[o];if(i){for(const e in c)e in i||(s[e]=1);for(const e in i)r[e]||(n[e]=i[e],r[e]=1);e[o]=i}else for(const e in c)r[e]=1}for(const e in s)e in n||(n[e]=void 0);return n}(c,[(o=e[0][0].props,"object"==typeof o&&null!==o?o:{})]):{};var o;if(i!==(i=e[0][0].page)){if(s){te();const e=s;re(e.$$.fragment,1,0,(()=>{fe(e,1)})),ne()}i?(s=new i(l()),ae(s.$$.fragment),se(s.$$.fragment,1),de(s,t,null)):s=null}else i&&s.$set(r)},i(e){o||(s&&se(s.$$.fragment,e),r||K((()=>{r=ce(t,Ne,{duration:100,delay:50}),r.start()})),o=!0)},o(e){s&&re(s.$$.fragment,e),o=!1},d(e){e&&k(t),s&&fe(s)}}}function Mt(t){let n,s,r,o,c,l=t[0][0];n=new _t({});let u=jt(t);return o=new St({}),{c(){ae(n.$$.fragment),s=_(),u.c(),r=_(),ae(o.$$.fragment)},m(e,t){de(n,e,t),y(e,s,t),u.m(e,t),y(e,r,t),de(o,e,t),c=!0},p(t,[n]){1&n&&i(l,l=t[0][0])?(te(),re(u,1,1,e),ne(),u=jt(t),u.c(),se(u),u.m(r.parentNode,r)):u.p(t,n)},i(e){c||(se(n.$$.fragment,e),se(u),se(o.$$.fragment,e),c=!0)},o(e){re(n.$$.fragment,e),re(u),re(o.$$.fragment,e),c=!1},d(e){fe(n,e),e&&k(s),u.d(e),e&&k(r),fe(o,e)}}}function At(e,t,n){let s;return a(e,ht,(e=>n(0,s=e))),[s]}return new class extends he{constructor(e){super(),me(this,e,At,Mt,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
