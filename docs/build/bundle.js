var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function s(){return Object.create(null)}function o(e){e.forEach(r)}function c(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(e){let t;return l(e,(e=>t=e))(),t}function a(e,t,n){e.$$.on_destroy.push(l(t,n))}function f(e,t,r,s){return e[1]&&s?n(r.ctx.slice(),e[1](s(t))):r.ctx}function d(e,t,n,r,s,o,c){const i=function(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}(t,r,s,o);if(i){const s=f(t,n,r,c);e.p(s,i)}}function p(t){return t&&c(t.destroy)?t.destroy:e}const m="undefined"!=typeof window;let h=m?()=>window.performance.now():()=>Date.now(),$=m?e=>requestAnimationFrame(e):e;const g=new Set;function x(e){g.forEach((t=>{t.c(e)||(g.delete(t),t.f())})),0!==g.size&&$(x)}function v(e){let t;return 0===g.size&&$(x),{promise:new Promise((n=>{g.add(t={c:e,f:n})})),abort(){g.delete(t)}}}function b(e,t){e.appendChild(t)}function y(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode.removeChild(e)}function w(e){return document.createElement(e)}function _(e){return document.createTextNode(e)}function E(){return _(" ")}function I(){return _("")}function C(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function N(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function S(e){return""===e?null:+e}function j(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function M(e,t){e.value=null==t?"":t}const A=new Set;let O,T=0;function z(e,t,n,r,s,o,c,i=0){const l=16.666/r;let u="{\n";for(let e=0;e<=1;e+=l){const r=t+(n-t)*o(e);u+=100*e+`%{${c(r,1-r)}}\n`}const a=u+`100% {${c(n,1-n)}}\n}`,f=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(a)}_${i}`,d=e.ownerDocument;A.add(d);const p=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(w("style")).sheet),m=d.__svelte_rules||(d.__svelte_rules={});m[f]||(m[f]=!0,p.insertRule(`@keyframes ${f} ${a}`,p.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${f} ${r}ms linear ${s}ms 1 both`,T+=1,f}function R(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),s=n.length-r.length;s&&(e.style.animation=r.join(", "),T-=s,T||$((()=>{T||(A.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),A.clear())})))}function L(e){O=e}const q=[],P=[],B=[],D=[],F=Promise.resolve();let G=!1;function J(e){B.push(e)}let K=!1;const V=new Set;function Y(){if(!K){K=!0;do{for(let e=0;e<q.length;e+=1){const t=q[e];L(t),H(t.$$)}for(L(null),q.length=0;P.length;)P.pop()();for(let e=0;e<B.length;e+=1){const t=B[e];V.has(t)||(V.add(t),t())}B.length=0}while(q.length);for(;D.length;)D.pop()();G=!1,K=!1,V.clear()}}function H(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(J)}}let Q;function U(){return Q||(Q=Promise.resolve(),Q.then((()=>{Q=null}))),Q}function W(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const X=new Set;let Z;function ee(){Z={r:0,c:[],p:Z}}function te(){Z.r||o(Z.c),Z=Z.p}function ne(e,t){e&&e.i&&(X.delete(e),e.i(t))}function re(e,t,n,r){if(e&&e.o){if(X.has(e))return;X.add(e),Z.c.push((()=>{X.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const se={duration:0};function oe(n,r,s){let o,i,l=r(n,s),u=!1,a=0;function f(){o&&R(n,o)}function d(){const{delay:r=0,duration:s=300,easing:c=t,tick:d=e,css:p}=l||se;p&&(o=z(n,0,1,s,r,c,p,a++)),d(0,1);const m=h()+r,$=m+s;i&&i.abort(),u=!0,J((()=>W(n,!0,"start"))),i=v((e=>{if(u){if(e>=$)return d(1,0),W(n,!0,"end"),f(),u=!1;if(e>=m){const t=c((e-m)/s);d(t,1-t)}}return u}))}let p=!1;return{start(){p||(R(n),c(l)?(l=l(),U().then(d)):d())},invalidate(){p=!1},end(){u&&(f(),u=!1)}}}function ce(n,r,s,i){let l=r(n,s),u=i?0:1,a=null,f=null,d=null;function p(){d&&R(n,d)}function m(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function $(r){const{delay:s=0,duration:c=300,easing:i=t,tick:$=e,css:g}=l||se,x={start:h()+s,b:r};r||(x.group=Z,Z.r+=1),a||f?f=x:(g&&(p(),d=z(n,u,r,c,s,i,g)),r&&$(0,1),a=m(x,c),J((()=>W(n,r,"start"))),v((e=>{if(f&&e>f.start&&(a=m(f,c),f=null,W(n,a.b,"start"),g&&(p(),d=z(n,u,a.b,a.duration,0,i,l.css))),a)if(e>=a.end)$(u=a.b,1-u),W(n,a.b,"end"),f||(a.b?p():--a.group.r||o(a.group.c)),a=null;else if(e>=a.start){const t=e-a.start;u=a.a+a.d*i(t/a.duration),$(u,1-u)}return!(!a&&!f)})))}return{run(e){c(l)?U().then((()=>{l=l(),$(e)})):$(e)},end(){p(),a=f=null}}}function ie(e,t){re(e,1,1,(()=>{t.delete(e.key)}))}function le(e,t,n,r,s,o,c,i,l,u,a,f){let d=e.length,p=o.length,m=d;const h={};for(;m--;)h[e[m].key]=m;const $=[],g=new Map,x=new Map;for(m=p;m--;){const e=f(s,o,m),i=n(e);let l=c.get(i);l?r&&l.p(e,t):(l=u(i,e),l.c()),g.set(i,$[m]=l),i in h&&x.set(i,Math.abs(m-h[i]))}const v=new Set,b=new Set;function y(e){ne(e,1),e.m(i,a),c.set(e.key,e),a=e.first,p--}for(;d&&p;){const t=$[p-1],n=e[d-1],r=t.key,s=n.key;t===n?(a=t.first,d--,p--):g.has(s)?!c.has(r)||v.has(r)?y(t):b.has(s)?d--:x.get(r)>x.get(s)?(b.add(r),y(t)):(v.add(s),d--):(l(n,c),d--)}for(;d--;){const t=e[d];g.has(t.key)||l(t,c)}for(;p;)y($[p-1]);return $}function ue(e){e&&e.c()}function ae(e,t,n,s){const{fragment:i,on_mount:l,on_destroy:u,after_update:a}=e.$$;i&&i.m(t,n),s||J((()=>{const t=l.map(r).filter(c);u?u.push(...t):o(t),e.$$.on_mount=[]})),a.forEach(J)}function fe(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function de(e,t){-1===e.$$.dirty[0]&&(q.push(e),G||(G=!0,F.then(Y)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function pe(t,n,r,c,i,l,u=[-1]){const a=O;L(t);const f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:i,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:n.context||[]),callbacks:s(),dirty:u,skip_bound:!1};let d=!1;if(f.ctx=r?r(t,n.props||{},((e,n,...r)=>{const s=r.length?r[0]:n;return f.ctx&&i(f.ctx[e],f.ctx[e]=s)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](s),d&&de(t,e)),n})):[],f.update(),d=!0,o(f.before_update),f.fragment=!!c&&c(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(k)}else f.fragment&&f.fragment.c();n.intro&&ne(t.$$.fragment),ae(t,n.target,n.anchor,n.customElement),Y()}L(a)}class me{$destroy(){fe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const he=[];function $e(t,n=e){let r;const s=[];function o(e){if(i(t,e)&&(t=e,r)){const e=!he.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),he.push(n,t)}if(e){for(let e=0;e<he.length;e+=2)he[e][0](he[e+1]);he.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(c,i=e){const l=[c,i];return s.push(l),1===s.length&&(r=n(o)||e),c(t),()=>{const e=s.indexOf(l);-1!==e&&s.splice(e,1),0===s.length&&(r(),r=null)}}}}function ge(t){let n,r,s,o;return{c(){n=w("button"),r=_(t[1]),N(n,"class","svelte-19o5qlr")},m(e,i){y(e,n,i),b(n,r),s||(o=C(n,"click",(function(){c(t[0])&&t[0].apply(this,arguments)})),s=!0)},p(e,[n]){t=e,2&n&&j(r,t[1])},i:e,o:e,d(e){e&&k(n),s=!1,o()}}}function xe(e,t,n){let{callback:r=function(){}}=t,{text:s="+"}=t;return e.$$set=e=>{"callback"in e&&n(0,r=e.callback),"text"in e&&n(1,s=e.text)},[r,s]}class ve extends me{constructor(e){super(),pe(this,e,xe,ge,i,{callback:0,text:1})}}function be(e){let t,n,r,s,o;const i=e[3].default,l=function(e,t,n,r){if(e){const s=f(e,t,n,r);return e[0](s)}}(i,e,e[2],null);return{c(){t=w("button"),l&&l.c(),N(t,"class","svelte-1jyxh9d")},m(n,i){y(n,t,i),l&&l.m(t,null),r=!0,s||(o=C(t,"click",(function(){c(e[0])&&e[0].apply(this,arguments)})),s=!0)},p(t,[n]){e=t,l&&l.p&&4&n&&d(l,i,e,e[2],n,null,null)},i(s){r||(ne(l,s),s&&J((()=>{n||(n=ce(t,e[1],{},!0)),n.run(1)})),r=!0)},o(s){re(l,s),s&&(n||(n=ce(t,e[1],{},!1)),n.run(0)),r=!1},d(e){e&&k(t),l&&l.d(e),e&&n&&n.end(),s=!1,o()}}}function ye(e,t,n){let{$$slots:r={},$$scope:s}=t,{callback:o=function(){}}=t,{trans:c=function(e,{duration:t=200,delay:n=0}){let r=+getComputedStyle(e).opacity,s=+getComputedStyle(e).height.slice(0,-2);return{duration:t,delay:n,css:e=>`\n\t\t\t\t\topacity: ${r*e};\n\t\t\t\t\theight: ${s*e}px;\n\t\t\t\t`}}}=t;return e.$$set=e=>{"callback"in e&&n(0,o=e.callback),"trans"in e&&n(1,c=e.trans),"$$scope"in e&&n(2,s=e.$$scope)},[o,c,s,r]}class ke extends me{constructor(e){super(),pe(this,e,ye,be,i,{callback:0,trans:1})}}function we(e,t=750){let n,r=!1,s=!0;function o(){r=!0,s=!0,n=setTimeout((function(){r=!1,s=!1,e.dispatchEvent(new CustomEvent("hold"))}),t)}function c(){clearTimeout(n),s=!0,r=!1}return e.addEventListener("mousedown",o),e.addEventListener("mouseup",(function(){clearTimeout(n),s&&r&&e.dispatchEvent(new CustomEvent("press")),s=!0,r=!1})),e.addEventListener("mouseleave",c),e.addEventListener("touchstart",o),e.addEventListener("touchcancel",c),{destroy(){e.onmousedown=null,e.onmouseup=null,e.ontouchstart=null}}}function _e(t){let n,r,s,c,i,l,u,a,f,d,p,m,h,$,g,x,v,_;return{c(){n=w("h1"),r=E(),s=w("info"),c=w("div"),i=w("input"),l=w("span"),l.textContent="kcal.",u=E(),a=w("div"),f=w("input"),d=w("span"),d.textContent="seconds",p=E(),m=w("div"),h=w("input"),$=w("span"),$.textContent="reps",g=E(),x=w("button"),x.textContent="OK",N(n,"contenteditable","true"),N(n,"class","svelte-kgr7km"),void 0===t[1].name&&J((()=>t[4].call(n))),N(i,"type","number"),N(i,"class","svelte-kgr7km"),N(c,"class","svelte-kgr7km"),N(f,"type","number"),N(f,"class","svelte-kgr7km"),N(a,"class","svelte-kgr7km"),N(h,"type","number"),N(h,"class","svelte-kgr7km"),N(m,"class","svelte-kgr7km"),N(s,"class","svelte-kgr7km"),N(x,"class","svelte-kgr7km")},m(e,o){y(e,n,o),void 0!==t[1].name&&(n.textContent=t[1].name),y(e,r,o),y(e,s,o),b(s,c),b(c,i),M(i,t[1].calories),b(c,l),b(s,u),b(s,a),b(a,f),M(f,t[0].time),b(a,d),b(s,p),b(s,m),b(m,h),M(h,t[0].reps),b(m,$),y(e,g,o),y(e,x,o),v||(_=[C(n,"input",t[4]),C(i,"input",t[5]),C(f,"input",t[6]),C(h,"input",t[7]),C(x,"click",t[8])],v=!0)},p(e,[t]){2&t&&e[1].name!==n.textContent&&(n.textContent=e[1].name),2&t&&S(i.value)!==e[1].calories&&M(i,e[1].calories),1&t&&S(f.value)!==e[0].time&&M(f,e[0].time),1&t&&S(h.value)!==e[0].reps&&M(h,e[0].reps)},i:e,o:e,d(e){e&&k(n),e&&k(r),e&&k(s),e&&k(g),e&&k(x),v=!1,o(_)}}}function Ee(e,t,n){let r,s;a(e,ft,(e=>n(9,r=e))),a(e,dt,(e=>n(10,s=e)));let{routineIndex:o=0}=t,{routineExerciseIndex:c=0}=t,i=r[o].exercises[c],l=s.find((function(e){return e.id===i.exerciseId}));return e.$$set=e=>{"routineIndex"in e&&n(2,o=e.routineIndex),"routineExerciseIndex"in e&&n(3,c=e.routineExerciseIndex)},[i,l,o,c,function(){l.name=this.textContent,n(1,l)},function(){l.calories=S(this.value),n(1,l)},function(){i.time=S(this.value),n(0,i)},function(){i.reps=S(this.value),n(0,i)},function(){mt.update((function(e){return e.shift(),"Add Exercise"===e[0].title&&e.shift(),e}))}]}class Ie extends me{constructor(e){super(),pe(this,e,Ee,_e,i,{routineIndex:2,routineExerciseIndex:3})}}function Ce(e,{delay:n=0,duration:r=400,easing:s=t}={}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:s,css:e=>"opacity: "+e*o}}function Ne(e,t,n){const r=e.slice();return r[6]=t[n],r[8]=n,r}function Se(t){let n,r;return{c(){n=w("h1"),n.textContent="No exercises.",N(n,"id","notfound"),N(n,"class","svelte-1qz3wnl")},m(e,t){y(e,n,t)},p:e,i(e){r||J((()=>{r=oe(n,Ce,{}),r.start()}))},o:e,d(e){e&&k(n)}}}function je(e){let t,n,r=e[1],s=[];for(let t=0;t<r.length;t+=1)s[t]=Ae(Ne(e,r,t));const o=e=>re(s[e],1,1,(()=>{s[e]=null}));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=I()},m(e,r){for(let t=0;t<s.length;t+=1)s[t].m(e,r);y(e,t,r),n=!0},p(e,n){if(7&n){let c;for(r=e[1],c=0;c<r.length;c+=1){const o=Ne(e,r,c);s[c]?(s[c].p(o,n),ne(s[c],1)):(s[c]=Ae(o),s[c].c(),ne(s[c],1),s[c].m(t.parentNode,t))}for(ee(),c=r.length;c<s.length;c+=1)o(c);te()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)ne(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)re(s[e]);n=!1},d(e){!function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(s,e),e&&k(t)}}}function Me(e){let t,n,r,s,o,c,i=e[6].name+"",l=e[6].calories+"";return{c(){t=w("b"),n=_(i),r=E(),s=w("p"),o=_(l),c=_(" kcal.")},m(e,i){y(e,t,i),b(t,n),y(e,r,i),y(e,s,i),b(s,o),b(s,c)},p(e,t){2&t&&i!==(i=e[6].name+"")&&j(n,i),2&t&&l!==(l=e[6].calories+"")&&j(o,l)},d(e){e&&k(t),e&&k(r),e&&k(s)}}}function Ae(e){let t,n,r,s,c,i;function l(){return e[3](e[6])}function u(){return e[4](e[6],e[8])}return n=new ke({props:{$$slots:{default:[Me]},$$scope:{ctx:e}}}),{c(){t=w("div"),ue(n.$$.fragment),r=E()},m(e,o){y(e,t,o),ae(n,t,null),b(t,r),s=!0,c||(i=[p(we.call(null,t)),C(t,"press",l),C(t,"hold",u)],c=!0)},p(t,r){e=t;const s={};514&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){s||(ne(n.$$.fragment,e),s=!0)},o(e){re(n.$$.fragment,e),s=!1},d(e){e&&k(t),fe(n),c=!1,o(i)}}}function Oe(e){let t,n,r,s,o,c,i;const l=[je,Se],u=[];function a(e,t){return e[1].length?0:1}return n=a(e),r=u[n]=l[n](e),c=new ve({props:{callback:e[5]}}),{c(){t=w("list"),r.c(),s=E(),o=w("div"),ue(c.$$.fragment),N(t,"class","svelte-1qz3wnl"),N(o,"id","button"),N(o,"class","svelte-1qz3wnl")},m(e,r){y(e,t,r),u[n].m(t,null),y(e,s,r),y(e,o,r),ae(c,o,null),i=!0},p(e,[s]){let o=n;n=a(e),n===o?u[n].p(e,s):(ee(),re(u[o],1,1,(()=>{u[o]=null})),te(),r=u[n],r?r.p(e,s):(r=u[n]=l[n](e),r.c()),ne(r,1),r.m(t,null));const i={};7&s&&(i.callback=e[5]),c.$set(i)},i(e){i||(ne(r),ne(c.$$.fragment,e),i=!0)},o(e){re(r),re(c.$$.fragment,e),i=!1},d(e){e&&k(t),u[n].d(),e&&k(s),e&&k(o),fe(c)}}}function Te(e,t,n){let r,s;a(e,dt,(e=>n(1,r=e))),a(e,ft,(e=>n(2,s=e)));let{routineIndex:o=0}=t;return e.$$set=e=>{"routineIndex"in e&&n(0,o=e.routineIndex)},[o,r,s,function(e){s[o].exercises.push({id:yt(),exerciseId:e.id,reps:0,time:30}),ht(Ie,{routineIndex:o,routineExerciseIndex:s[o].exercises.length-1},"")},async function(e,t){await vt(`Delete "${e.name}"?`)&&dt.update((function(e){return[...e.slice(0,t),...e.slice(t+1)]}))},function(){r.push({id:yt(),name:"New Exercise",calories:.1}),s[o].exercises.push({id:yt(),exerciseId:r[r.length-1].id,reps:0,time:30}),ht(Ie,{routineIndex:o,routineExerciseIndex:s[o].exercises.length-1},"")}]}class ze extends me{constructor(e){super(),pe(this,e,Te,Oe,i,{routineIndex:0})}}let Re=new AudioContext;function Le(e="triangle",t=2){let n=Re.createOscillator(),r=Re.createGain();n.connect(r),r.connect(Re.destination),n.type=e,n.start(0),r.gain.exponentialRampToValueAtTime(1e-4,Re.currentTime+t)}function qe(e){let t,n,r,s,o,c,i,l,u,a,f,d=(e[4]?"Break":e[5].name)+"",p=((e[4]?e[2][e[0]].break:e[5].time)-e[3]).toFixed(1)+"",m=e[5].reps&&Be(e);return{c(){t=w("div"),r=E(),s=w("roundthing"),o=w("h1"),c=_(d),i=E(),m&&m.c(),l=E(),u=w("h2"),a=_(p),f=_(" sec."),N(t,"id","circle"),N(t,"style",n=`--rotate: ${e[4]?360-e[3]/e[2][e[0]].break*360:e[3]/e[5].time*360}deg`),N(t,"class","svelte-196c4sj"),N(o,"class","svelte-196c4sj"),N(u,"class","svelte-196c4sj"),N(s,"class","svelte-196c4sj")},m(e,n){y(e,t,n),y(e,r,n),y(e,s,n),b(s,o),b(o,c),b(s,i),m&&m.m(s,null),b(s,l),b(s,u),b(u,a),b(u,f)},p(e,r){61&r&&n!==(n=`--rotate: ${e[4]?360-e[3]/e[2][e[0]].break*360:e[3]/e[5].time*360}deg`)&&N(t,"style",n),48&r&&d!==(d=(e[4]?"Break":e[5].name)+"")&&j(c,d),e[5].reps?m?m.p(e,r):(m=Be(e),m.c(),m.m(s,l)):m&&(m.d(1),m=null),61&r&&p!==(p=((e[4]?e[2][e[0]].break:e[5].time)-e[3]).toFixed(1)+"")&&j(a,p)},d(e){e&&k(t),e&&k(r),e&&k(s),m&&m.d()}}}function Pe(t){let n,r,s;return{c(){n=w("button"),n.textContent="Start",N(n,"class","svelte-196c4sj")},m(e,o){y(e,n,o),r||(s=C(n,"click",t[6]),r=!0)},p:e,d(e){e&&k(n),r=!1,s()}}}function Be(e){let t,n,r,s=e[5].reps+"";return{c(){t=w("h2"),n=_(s),r=_(" reps"),N(t,"class","svelte-196c4sj")},m(e,s){y(e,t,s),b(t,n),b(t,r)},p(e,t){32&t&&s!==(s=e[5].reps+"")&&j(n,s)},d(e){e&&k(t)}}}function De(t){let n;function r(e,t){return-1==e[1]?Pe:qe}let s=r(t),o=s(t);return{c(){n=w("container"),o.c(),N(n,"class","svelte-196c4sj")},m(e,t){y(e,n,t),o.m(n,null)},p(e,[t]){s===(s=r(e))&&o?o.p(e,t):(o.d(1),o=s(e),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(e){e&&k(n),o.d()}}}const Fe=100;function Ge(e,t,n){let r,s;a(e,pt,(e=>n(2,s=e)));let{i:o=0}=t,c=-1,i=0,l=!1;setInterval((function(){-1!=c&&(n(3,i+=.1),l?i>=s[o].break&&(n(3,i=.1),n(4,l=!1),Le("triangle",4)):i>=r.time&&(Le("sine",4),n(3,i=.1),n(4,l=!0),c<s[o].computedExercises.length-1?n(1,c++,c):n(1,c=-1)))}),Fe);return e.$$set=e=>{"i"in e&&n(0,o=e.i)},e.$$.update=()=>{7&e.$$.dirty&&n(5,r=s[o].computedExercises[c])},[o,c,s,i,l,r,function(){n(1,c=0)}]}class Je extends me{constructor(e){super(),pe(this,e,Ge,De,i,{i:0})}}function Ke(e,t,n){const r=e.slice();return r[10]=t[n].name,r[11]=t[n].reps,r[12]=t[n].time,r[13]=t[n].calories,r[14]=t[n].id,r[16]=n,r}function Ve(e){let t,n,r,s=e[1][e[0]].exercises.length+"";return{c(){t=w("p"),n=_(s),r=_(" exercises"),N(t,"class","svelte-19o1eed")},m(e,s){y(e,t,s),b(t,n),b(t,r)},p(e,t){3&t&&s!==(s=e[1][e[0]].exercises.length+"")&&j(n,s)},d(e){e&&k(t)}}}function Ye(e){let t,n,r,s,o,c,i,l,u,a=Math.round($t(e[0])/60)+"",f=gt(e[0])+"",d=e[1][e[0]].exercises&&Ve(e);return{c(){t=w("p"),n=_(a),r=_(" minute(s)"),s=E(),o=w("p"),c=_(f),i=_(" kcal."),l=E(),d&&d.c(),u=I(),N(t,"class","svelte-19o1eed"),N(o,"class","svelte-19o1eed")},m(e,a){y(e,t,a),b(t,n),b(t,r),y(e,s,a),y(e,o,a),b(o,c),b(o,i),y(e,l,a),d&&d.m(e,a),y(e,u,a)},p(e,t){1&t&&a!==(a=Math.round($t(e[0])/60)+"")&&j(n,a),1&t&&f!==(f=gt(e[0])+"")&&j(c,f),e[1][e[0]].exercises?d?d.p(e,t):(d=Ve(e),d.c(),d.m(u.parentNode,u)):d&&(d.d(1),d=null)},d(e){e&&k(t),e&&k(s),e&&k(o),e&&k(l),d&&d.d(e),e&&k(u)}}}function He(t){let n,r;return{c(){n=w("p"),n.textContent="No exercises.",N(n,"id","notfound"),N(n,"class","svelte-19o1eed")},m(e,t){y(e,n,t)},p:e,i(e){r||J((()=>{r=oe(n,Ce,{}),r.start()}))},o:e,d(e){e&&k(n)}}}function Qe(e){let t,n,r=[],s=new Map,o=e[3][e[0]].computedExercises;const c=e=>e[14];for(let t=0;t<o.length;t+=1){let n=Ke(e,o,t),i=c(n);s.set(i,r[t]=Ze(i,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=I()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);y(e,t,s),n=!0},p(e,n){11&n&&(o=e[3][e[0]].computedExercises,ee(),r=le(r,n,c,1,e,o,s,t.parentNode,ie,Ze,t,Ke),te())},i(e){if(!n){for(let e=0;e<o.length;e+=1)ne(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)re(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&k(t)}}}function Ue(e){let t,n,r,s,o,c,i,l=e[12]+"",u=e[12]*e[13]+"";return{c(){t=w("p"),n=_(l),r=_(" seconds"),s=E(),o=w("p"),c=_(u),i=_(" kcal.")},m(e,l){y(e,t,l),b(t,n),b(t,r),y(e,s,l),y(e,o,l),b(o,c),b(o,i)},p(e,t){9&t&&l!==(l=e[12]+"")&&j(n,l),9&t&&u!==(u=e[12]*e[13]+"")&&j(c,u)},d(e){e&&k(t),e&&k(s),e&&k(o)}}}function We(e){let t,n,r,s,o,c,i,l=e[11]+"",u=e[11]*e[13]+"";return{c(){t=w("p"),n=_(l),r=_(" reps"),s=E(),o=w("p"),c=_(u),i=_(" kcal.")},m(e,l){y(e,t,l),b(t,n),b(t,r),y(e,s,l),y(e,o,l),b(o,c),b(o,i)},p(e,t){9&t&&l!==(l=e[11]+"")&&j(n,l),9&t&&u!==(u=e[11]*e[13]+"")&&j(c,u)},d(e){e&&k(t),e&&k(s),e&&k(o)}}}function Xe(e){let t,n,r,s,o=e[10]+"";function c(e,t){return e[11]?We:Ue}let i=c(e),l=i(e);return{c(){t=w("b"),n=_(o),r=E(),l.c(),s=I()},m(e,o){y(e,t,o),b(t,n),y(e,r,o),l.m(e,o),y(e,s,o)},p(e,t){9&t&&o!==(o=e[10]+"")&&j(n,o),i===(i=c(e))&&l?l.p(e,t):(l.d(1),l=i(e),l&&(l.c(),l.m(s.parentNode,s)))},d(e){e&&k(t),e&&k(r),l.d(e),e&&k(s)}}}function Ze(e,t){let n,r,s,c,i,l;function u(){return t[6](t[16])}function a(){return t[7](t[10],t[16])}return r=new ke({props:{$$slots:{default:[Xe]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=w("div"),ue(r.$$.fragment),s=E(),N(n,"class","svelte-19o1eed"),this.first=n},m(e,t){y(e,n,t),ae(r,n,null),b(n,s),c=!0,i||(l=[p(we.call(null,n)),C(n,"hold",u),C(n,"press",a)],i=!0)},p(e,n){t=e;const s={};131081&n&&(s.$$scope={dirty:n,ctx:t}),r.$set(s)},i(e){c||(ne(r.$$.fragment,e),c=!0)},o(e){re(r.$$.fragment,e),c=!1},d(e){e&&k(n),fe(r),i=!1,o(l)}}}function et(e){let t,n,r,s,c,l,u,a,f,d,p,m,h,$,g,x,v,_,I,j,A=(e[1][e[0]],e[2]),O=Ye(e);const T=[Qe,He],z=[];function R(e,t){return e[1][e[0]].exercises&&e[1][e[0]].exercises.length?0:1}return p=R(e),m=z[p]=T[p](e),v=new ve({props:{callback:e[9]}}),{c(){t=w("h1"),n=E(),r=w("info"),O.c(),s=E(),c=w("div"),l=w("input"),u=E(),a=w("span"),a.textContent="second breaks",f=E(),d=w("list"),m.c(),h=E(),$=w("button"),$.textContent="Go!",g=E(),x=w("div"),ue(v.$$.fragment),N(t,"contenteditable","true"),N(t,"class","svelte-19o1eed"),void 0===e[1][e[0]].name&&J((()=>e[4].call(t))),N(l,"type","number"),N(l,"class","svelte-19o1eed"),N(c,"class","svelte-19o1eed"),N(r,"class","svelte-19o1eed"),N(d,"class","svelte-19o1eed"),N($,"id","go"),N($,"class","svelte-19o1eed"),N(x,"id","button"),N(x,"class","svelte-19o1eed")},m(o,i){y(o,t,i),void 0!==e[1][e[0]].name&&(t.textContent=e[1][e[0]].name),y(o,n,i),y(o,r,i),O.m(r,null),b(r,s),b(r,c),b(c,l),M(l,e[1][e[0]].break),b(c,u),b(c,a),y(o,f,i),y(o,d,i),z[p].m(d,null),y(o,h,i),y(o,$,i),y(o,g,i),y(o,x,i),ae(v,x,null),_=!0,I||(j=[C(t,"input",e[4]),C(l,"input",e[5]),C($,"click",e[8])],I=!0)},p(e,[n]){3&n&&e[1][e[0]].name!==t.textContent&&(t.textContent=e[1][e[0]].name),7&n&&i(A,(e[1][e[0]],A=e[2]))?(O.d(1),O=Ye(e),O.c(),O.m(r,s)):O.p(e,n),3&n&&S(l.value)!==e[1][e[0]].break&&M(l,e[1][e[0]].break);let o=p;p=R(e),p===o?z[p].p(e,n):(ee(),re(z[o],1,1,(()=>{z[o]=null})),te(),m=z[p],m?m.p(e,n):(m=z[p]=T[p](e),m.c()),ne(m,1),m.m(d,null));const c={};1&n&&(c.callback=e[9]),v.$set(c)},i(e){_||(ne(m),ne(v.$$.fragment,e),_=!0)},o(e){re(m),re(v.$$.fragment,e),_=!1},d(e){e&&k(t),e&&k(n),e&&k(r),O.d(e),e&&k(f),e&&k(d),z[p].d(),e&&k(h),e&&k($),e&&k(g),e&&k(x),fe(v),I=!1,o(j)}}}function tt(e,t,n){let r,s,o;a(e,ft,(e=>n(1,r=e))),a(e,dt,(e=>n(2,s=e))),a(e,pt,(e=>n(3,o=e)));let{i:c=0}=t;return e.$$set=e=>{"i"in e&&n(0,c=e.i)},[c,r,s,o,function(){r[c].name=this.textContent,ft.set(r),n(0,c)},function(){r[c].break=S(this.value),ft.set(r),n(0,c)},function(e){!function(e,t,n=t){e.set(n)}(ft,r[c].exercises=[...r[c].exercises.slice(0,e),...r[c].exercises.slice(e+1)],r),ft.update((function(e){return e}))},function(e,t){void 0!==e&&ht(Ie,{routineIndex:c,routineExerciseIndex:t})},function(){o[c].computedExercises.length&&ht(Je,{i:c},"")},function(){ht(ze,{routineIndex:c},"Add Exercise")}]}class nt extends me{constructor(e){super(),pe(this,e,tt,et,i,{i:0})}}function rt(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function st(e){let t,n,r,s,o,c,i,l,u,a,f=e[4].name+"",d=Math.round($t(e[6])/60)+"",p=gt(e[6])+"";return{c(){t=w("b"),n=_(f),r=E(),s=w("p"),o=_(d),c=_(" min."),i=E(),l=w("p"),u=_(p),a=_(" kcal.")},m(e,f){y(e,t,f),b(t,n),y(e,r,f),y(e,s,f),b(s,o),b(s,c),y(e,i,f),y(e,l,f),b(l,u),b(l,a)},p(e,t){1&t&&f!==(f=e[4].name+"")&&j(n,f),1&t&&d!==(d=Math.round($t(e[6])/60)+"")&&j(o,d),1&t&&p!==(p=gt(e[6])+"")&&j(u,p)},d(e){e&&k(t),e&&k(r),e&&k(s),e&&k(i),e&&k(l)}}}function ot(e,t){let n,r,s,c,i;function l(){return t[1](t[6])}function u(){return t[2](t[4],t[6])}return r=new ke({props:{$$slots:{default:[st]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=w("div"),ue(r.$$.fragment),N(n,"class","svelte-ha7zre"),this.first=n},m(e,t){y(e,n,t),ae(r,n,null),s=!0,c||(i=[p(we.call(null,n)),C(n,"press",l),C(n,"hold",u)],c=!0)},p(e,n){t=e;const s={};129&n&&(s.$$scope={dirty:n,ctx:t}),r.$set(s)},i(e){s||(ne(r.$$.fragment,e),s=!0)},o(e){re(r.$$.fragment,e),s=!1},d(e){e&&k(n),fe(r),c=!1,o(i)}}}function ct(e){let t;return{c(){t=w("p"),t.textContent="No routines",N(t,"id","notfound"),N(t,"class","svelte-ha7zre")},m(e,n){y(e,t,n)},d(e){e&&k(t)}}}function it(e){let t,n,r,s,o,c,i=[],l=new Map,u=e[0];const a=e=>e[4].id;for(let t=0;t<u.length;t+=1){let n=rt(e,u,t),r=a(n);l.set(r,i[t]=ot(r,n))}let f=0==e[0].length&&ct();return o=new ve({props:{callback:e[3]}}),{c(){t=w("div");for(let e=0;e<i.length;e+=1)i[e].c();n=E(),f&&f.c(),r=E(),s=w("div"),ue(o.$$.fragment),N(t,"id","list"),N(t,"class","svelte-ha7zre"),N(s,"id","button"),N(s,"class","svelte-ha7zre")},m(e,l){y(e,t,l);for(let e=0;e<i.length;e+=1)i[e].m(t,null);b(t,n),f&&f.m(t,null),y(e,r,l),y(e,s,l),ae(o,s,null),c=!0},p(e,[r]){1&r&&(u=e[0],ee(),i=le(i,r,a,1,e,u,l,t,ie,ot,n,rt),te()),0==e[0].length?f||(f=ct(),f.c(),f.m(t,null)):f&&(f.d(1),f=null);const s={};1&r&&(s.callback=e[3]),o.$set(s)},i(e){if(!c){for(let e=0;e<u.length;e+=1)ne(i[e]);ne(o.$$.fragment,e),c=!0}},o(e){for(let e=0;e<i.length;e+=1)re(i[e]);re(o.$$.fragment,e),c=!1},d(e){e&&k(t);for(let e=0;e<i.length;e+=1)i[e].d();f&&f.d(),e&&k(r),e&&k(s),fe(o)}}}function lt(e,t,n){let r;a(e,ft,(e=>n(0,r=e)));return[r,function(e){ht(nt,{i:e},"")},async function(e,t){await vt(`Delete "${e.name}"?`)&&ft.update((function(e){return[...e.slice(0,t),...e.slice(t+1)]}))},function(){r.push({id:yt(),name:"New Routine",break:10,exercises:[]}),ht(nt,{i:r.length-1},"")}]}class ut extends me{constructor(e){super(),pe(this,e,lt,it,i,{})}}function at(e,t){let n=JSON.parse(localStorage.getItem(e)),r=$e(null===n?t:n);return window.addEventListener("beforeunload",(function(){localStorage.setItem(e,JSON.stringify(u(r)))})),r}const ft=at("routines",[{id:0,name:"Example Routine",break:10,exercises:[{id:1,exerciseId:5,reps:10,time:60},{id:2,exerciseId:5,reps:20,time:120},{id:3,exerciseId:5,reps:25,time:120},{id:4,exerciseId:5,reps:30,time:120}]}]),dt=at("exerciseTable",[{id:5,name:"Example Exercise",calories:2}]),pt=function(t,n,r){const s=!Array.isArray(t),i=s?[t]:t,u=n.length<2;return{subscribe:$e(r,(t=>{let r=!1;const a=[];let f=0,d=e;const p=()=>{if(f)return;d();const r=n(s?a[0]:a,t);u?t(r):d=c(r)?r:e},m=i.map(((e,t)=>l(e,(e=>{a[t]=e,f&=~(1<<t),r&&p()}),(()=>{f|=1<<t}))));return r=!0,p(),function(){o(m),d()}})).subscribe}}([ft,dt],(function([e,t],n){let r=[];for(let n of e){let e=n.exercises.map((function(e){return{...t.find((function(t){return e.exerciseId===t.id})),...e}}));r.push({...n,computedExercises:e})}n(r)})),mt=$e([{page:ut,props:{},title:"Routines"}]),ht=function(e=ut,t={},n="Routines"){mt.update((function(r){return[{page:e,props:t,title:n},...r]}))},$t=function(e){try{let t=u(ft)[e],n=0;for(let{time:e}of t.exercises)n+=e||0;return n+=t.break*(t.exercises.length-1),n}catch{return 0}},gt=function(e){try{let t=u(ft)[e],n=u(dt),r=0;for(let{exerciseId:e,reps:s,time:o}of t.exercises){let t=n.find((function(t){return t.id===e}));void 0!==t&&(r+=t.calories*(s||o))}return r}catch{return 0}};let xt=$e({text:"",callback:function(){}});const vt=async function(e){return u(xt).text?new Promise((function(e){e(!1)})):new Promise((function(t){xt.set({text:e,callback:function(e){xt.set({text:"",callback:function(){}}),t(e)}})}))};let bt=Number(localStorage.getItem("id"))||99;const yt=function(){return localStorage.setItem("id",`${bt+1}`),bt++};function kt(t){let n,r,s,o,c,i,l,u,a,f,d,p,m=t[0][0].title+"";return{c(){n=w("div"),r=w("button"),s=_("<"),c=E(),i=w("p"),l=_(m),a=E(),f=w("div"),N(r,"style",o=1==t[0].length?"display: none;":""),N(r,"class","svelte-5w25g5"),N(i,"class","svelte-5w25g5"),N(n,"id","bar"),N(n,"style",u=t[0][0].title?"":"border: none;"),N(n,"class","svelte-5w25g5"),N(f,"id","space"),N(f,"class","svelte-5w25g5")},m(e,o){y(e,n,o),b(n,r),b(r,s),b(n,c),b(n,i),b(i,l),y(e,a,o),y(e,f,o),d||(p=C(r,"click",t[1]),d=!0)},p(e,[t]){1&t&&o!==(o=1==e[0].length?"display: none;":"")&&N(r,"style",o),1&t&&m!==(m=e[0][0].title+"")&&j(l,m),1&t&&u!==(u=e[0][0].title?"":"border: none;")&&N(n,"style",u)},i:e,o:e,d(e){e&&k(n),e&&k(a),e&&k(f),d=!1,p()}}}function wt(e,t,n){let r;a(e,mt,(e=>n(0,r=e)));return[r,function(){!function(e=1){if(u(mt).length<=1)return!0;mt.update((function(t){return t.slice(Math.min(e,t.length-1))}))}(1)}]}window.log=function(){console.log(u(ft),u(dt),u(mt),u(xt))},window.wipe=function(){ft.set(null),dt.set(null),localStorage.removeItem("routines"),localStorage.removeItem("exerciseTable"),window.location.reload()},window.ask=vt;class _t extends me{constructor(e){super(),pe(this,e,wt,kt,i,{})}}function Et(e){let t,n,r,s,c,i,l,u,a,f,d,p,m,h=e[0].text+"";return{c(){t=w("darken"),n=w("box"),r=w("h1"),s=_(h),c=E(),i=w("buttoncontainer"),l=w("button"),l.textContent="Yes",u=E(),a=w("button"),a.textContent="No",N(r,"class","svelte-f4ee0"),N(l,"id","yes"),N(l,"class","svelte-f4ee0"),N(a,"id","no"),N(a,"class","svelte-f4ee0"),N(i,"class","svelte-f4ee0"),N(n,"class","svelte-f4ee0"),N(t,"class","svelte-f4ee0")},m(o,f){y(o,t,f),b(t,n),b(n,r),b(r,s),b(n,c),b(n,i),b(i,l),b(i,u),b(i,a),d=!0,p||(m=[C(l,"click",e[1]),C(a,"click",e[2])],p=!0)},p(e,t){(!d||1&t)&&h!==(h=e[0].text+"")&&j(s,h)},i(e){d||(J((()=>{f||(f=ce(t,Ce,{duration:100},!0)),f.run(1)})),d=!0)},o(e){f||(f=ce(t,Ce,{duration:100},!1)),f.run(0),d=!1},d(e){e&&k(t),e&&f&&f.end(),p=!1,o(m)}}}function It(e){let t,n,r=e[0].text&&Et(e);return{c(){r&&r.c(),t=I()},m(e,s){r&&r.m(e,s),y(e,t,s),n=!0},p(e,[n]){e[0].text?r?(r.p(e,n),1&n&&ne(r,1)):(r=Et(e),r.c(),ne(r,1),r.m(t.parentNode,t)):r&&(ee(),re(r,1,1,(()=>{r=null})),te())},i(e){n||(ne(r),n=!0)},o(e){re(r),n=!1},d(e){r&&r.d(e),e&&k(t)}}}function Ct(e,t,n){let r;a(e,xt,(e=>n(0,r=e)));return[r,function(){r.callback(!0)},function(){r.callback(!1)}]}class Nt extends me{constructor(e){super(),pe(this,e,Ct,It,i,{})}}function St(e){let t,r,s,o;const c=[e[0][0].props];var i=e[0][0].page;function l(e){let t={};for(let e=0;e<c.length;e+=1)t=n(t,c[e]);return{props:t}}return i&&(r=new i(l())),{c(){t=w("div"),r&&ue(r.$$.fragment),N(t,"class","svelte-19uewan")},m(e,n){y(e,t,n),r&&ae(r,t,null),o=!0},p(e,n){const s=1&n?function(e,t){const n={},r={},s={$$scope:1};let o=e.length;for(;o--;){const c=e[o],i=t[o];if(i){for(const e in c)e in i||(r[e]=1);for(const e in i)s[e]||(n[e]=i[e],s[e]=1);e[o]=i}else for(const e in c)s[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}(c,[(o=e[0][0].props,"object"==typeof o&&null!==o?o:{})]):{};var o;if(i!==(i=e[0][0].page)){if(r){ee();const e=r;re(e.$$.fragment,1,0,(()=>{fe(e,1)})),te()}i?(r=new i(l()),ue(r.$$.fragment),ne(r.$$.fragment,1),ae(r,t,null)):r=null}else i&&r.$set(s)},i(e){o||(r&&ne(r.$$.fragment,e),s||J((()=>{s=oe(t,Ce,{duration:100,delay:50}),s.start()})),o=!0)},o(e){r&&re(r.$$.fragment,e),o=!1},d(e){e&&k(t),r&&fe(r)}}}function jt(t){let n,r,s,o,c,l=t[0][0];n=new _t({});let u=St(t);return o=new Nt({}),{c(){ue(n.$$.fragment),r=E(),u.c(),s=E(),ue(o.$$.fragment)},m(e,t){ae(n,e,t),y(e,r,t),u.m(e,t),y(e,s,t),ae(o,e,t),c=!0},p(t,[n]){1&n&&i(l,l=t[0][0])?(ee(),re(u,1,1,e),te(),u=St(t),u.c(),ne(u),u.m(s.parentNode,s)):u.p(t,n)},i(e){c||(ne(n.$$.fragment,e),ne(u),ne(o.$$.fragment,e),c=!0)},o(e){re(n.$$.fragment,e),re(u),re(o.$$.fragment,e),c=!1},d(e){fe(n,e),e&&k(r),u.d(e),e&&k(s),fe(o,e)}}}function Mt(e,t,n){let r;return a(e,mt,(e=>n(0,r=e))),[r]}return new class extends me{constructor(e){super(),pe(this,e,Mt,jt,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
